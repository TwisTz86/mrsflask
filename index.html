<!DOCTYPE html>
<html>
<head>
  <title>Mrs Flask's Typing Game</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body, h1, p, input, button {
      font-family: 'Noto Sans', sans-serif;
    }
    .billie-keyboard {
      width: 40%;
      height: auto;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body class="bg-gray-100 text-center py-10">
  <div class="container mx-auto max-w-lg bg-white p-10 rounded-lg shadow-lg">
    <h1 class="text-4xl font-bold text-gray-800 mb-5">Mrs Flask's</br>Typing Game</h1>
    <img src="keyboard.png" id="keyboardImage" class="billie-keyboard">
    <p class="text-lg text-gray-600 mb-5">Type in your classmates' names to earn points!</p>
    <p class="text-2xl font-semibold text-gray-800 mb-5">Score: <span id="totalScore" class="score">0</span></p>
    <div class="bg-gray-200 p-5 rounded-lg mb-10">
      <p id="currentName" class="text-3xl font-bold tracking-wide text-gray-800"></p>
    </div>
    <input type="text" id="nameInput" class="text-lg p-3 w-full border-2 border-gray-300 rounded-md focus:outline-none focus:border-green-500 mb-10" placeholder="Type the name here">
    
    <div class="flex justify-center flex-wrap gap-4">
      <button class="class-button bg-gray-200 text-xl py-2 px-4 rounded-lg hover:bg-gray-300 focus:outline-none" data-homegroup="3C">3C</button>
      <button class="class-button bg-gray-200 text-xl py-2 px-4 rounded-lg hover:bg-gray-300 focus:outline-none" data-homegroup="4C">4C</button>
      <button class="class-button bg-gray-200 text-xl py-2 px-4 rounded-lg hover:bg-gray-300 focus:outline-none" data-homegroup="4D">4D</button>
      <button class="class-button bg-gray-200 text-xl py-2 px-4 rounded-lg hover:bg-gray-300 focus:outline-none" data-homegroup="5A">5A</button>
    </div>
  </div>

  <script>
    const classmatesData = {
      "3C": ["Roeya", "Adan", "Levi", "Charlotte", "Bessica", "Pareesa", "Oliver", "Dylan", "Max", "Ollie", "Valentina", "Alisha", "Yusra", "William", "Eleanor", "Metodij", "Sarah", "Goransh", "Jannah", "Albina", "Ava", "Arti", "Ronia", "Hudson", "Mia"],
      "4C": ["Jaiden", "Shaurya", "Sophie", "Ishaan", "Ava", "Jake", "Lanaya", "Oliver", "Moses", "Makayla", "Kayden", "Arebella", "Hayden", "Parmis", "Hunter", "Leilahni", "Emilie", "Bardia", "Jainil", "Shivam", "Gloria", "Lily", "Sebastian", "Mia", "Harper", "Neil", "Manaia", "Harley", "Nevaeh"],
      "4D": ["Imaan", "Alyssa", "Tyler", "Sawyer", "Erica", "Dev", "Jordis", "Udaysher Singh", "Dorinne", "Kyle", "Panisa", "Aviel", "Christopher", "Emaya", "Tenzin", "Lailanie", "Lola", "Mya", "Oliver", "Elric", "Patrick", "Immy", "Aarav", "Lakshmika", "Henry", "Zoey", "Naser"],
      "5A": ["Tylah", "Vaishnavi", "Michelle", "Sidhak", "Sophie", "Skylar", "Charlie", "Olivia", "Chase", "Dylan", "Saanvi", "Diesel", "Trisha", "Amelia", "Sahr", "Praniit", "Arhaan", "Zara", "Jordan", "Archie", "Caleb", "Alwish", "Anishka", "Michael", "Harper", "Thomas", "Tejas"]
    };

    let classmates = classmatesData["3C"]; // Default group
    let currentIndex = 0;
    let totalScore = 0;
    let currentHomegroup = "3C";

    const currentNameElement = document.getElementById("currentName");
    const nameInputElement = document.getElementById("nameInput");
    const totalScoreElement = document.getElementById("totalScore");
    const classButtons = document.querySelectorAll(".class-button");
    const keyboardImage = document.getElementById("keyboardImage");

    function showNextName() {
      currentNameElement.innerHTML = classmates[currentIndex].split("").map(char => `<span>${char}</span>`).join("");
    }

    function checkName() {
      const typedName = nameInputElement.value.trim();
      const currentNameChars = currentNameElement.getElementsByTagName("span");

      if (typedName.length > 0 && typedName[0] !== typedName[0].toUpperCase()) {
        currentNameChars[0].classList.add("text-red-500");
      } else {
        currentNameChars[0].classList.remove("text-red-500");
      }

      for (let i = 0; i < currentNameChars.length; i++) {
        if (i < typedName.length) {
          if (typedName[i] === currentNameChars[i].textContent) {
            currentNameChars[i].classList.add("text-green-500");
            currentNameChars[i].classList.remove("text-red-500");
          } else {
            currentNameChars[i].classList.add("text-red-500");
            currentNameChars[i].classList.remove("text-green-500");
          }
        } else {
          currentNameChars[i].classList.remove("text-green-500");
          currentNameChars[i].classList.remove("text-red-500");
        }
      }

      if (typedName === classmates[currentIndex]) {
        totalScore++;
        totalScoreElement.textContent = totalScore;
        nameInputElement.value = "";
        currentIndex = (currentIndex + 1) % classmates.length;
        showNextName();

        // Change the image when the score reaches 20
        if (totalScore === 20) {
          keyboardImage.src = "onfire.png";
        }
      }
    }

    function changeClass(event) {
      const selectedClass = event.target.getAttribute("data-homegroup");
      classmates = classmatesData[selectedClass];
      currentIndex = 0;
      currentHomegroup = selectedClass;
      nameInputElement.value = "";
      showNextName();

      classButtons.forEach(button => button.classList.remove("bg-green-500", "text-white"));
      event.target.classList.add("bg-green-500", "text-white");
    }

    classButtons.forEach(button => button.addEventListener("click", changeClass));
    nameInputElement.addEventListener("input", checkName);

    showNextName();
  </script>
</body>
</html>
